!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){o[t]=e},e.parcelRequired7c6=a);var c=a("bpxeT"),r=a("2TvXO"),i=a("hrrt1");var s,l=document.querySelector(".aside-list"),u=document.querySelector(".aside-title"),d=document.querySelector(".main-content"),p=new(0,i.SwaggerAPI),v=(s=t(c)(t(r).mark((function e(){var n,o;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.fetchBooksCategoryList();case 3:n=t.sent.data,o=n.map((function(t){return'<a class="aside-link"><li class="aside-item">'.concat(t.list_name,"</li></a>")})).join(""),l.innerHTML=o,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),e,null,[[0,8]])}))),function(){return s.apply(this,arguments)});v();var f=null;l.addEventListener("click",(function(e){var n=e.target.textContent;p.categoryName=n,f&&f.classList.remove("active"),(f=e.target).classList.add("active"),u.classList.remove("active");var o=function(){var e=t(c)(t(r).mark((function e(){var o,a,c,i,s,l,u;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.fetchBooksByCategory(n);case 3:o=t.sent.data,console.log(o),a=o[0].list_name,c=a.split(" "),i=c.length/2,s=c.slice(0,i).join(" "),l=c.slice(i).join(" "),u="".concat(s,' <span class="categories-title-decor">').concat(l,"</span>"),d.innerHTML='<h1 class="categories-title">'.concat(u,'</h1> <ul class="categories-item">').concat(o.map((function(t){var e=t.book_image,n=t.description,o=t.title,a=t.author;return'\n\n<li class="category-list-item">\n<a class="book-link" href="">\n<div class="book-thumb">\n<img class="book-image" src="'.concat(e,'" alt="').concat(n,'" />\n<div class="book-overlay">\n<p class="book-overlay-text">quick view</p>\n</div>\n</div>\n<div class="book-card-content">\n<h2 class="book-title">').concat(o,'</h2>\n<p class="book-author">').concat(a,"</p>\n</div>\n</a>\n</li>")})).join(""),"</ul>"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();o()})),a("71ZRj"),a("ekC86"),a("i8Q71");c=a("bpxeT"),r=a("2TvXO"),i=a("hrrt1");function g(t){return t.map((function(t){var e=t.book_image,n=t.description,o=t.title,a=t.author,c=t._id;return'<li class="books-list-item">\n                 <a class="book-link" href="" data-id="'.concat(c,'">\n                    <div class="book-thumb">\n                      <img class="book-image" src="').concat(e,'" alt="').concat(n,'" />\n\n                        <div class="book-overlay">\n                       <p class="book-overlay-text">quick view</p>\n                       </div>\n                       </div>                     \n                     <div class="book-card-content">\n                     <h2 class="book-title">').concat(o,'</h2>\n                     <p class="book-author">').concat(a,"</p>\n                     </div>\n                 </a>                    \n              </li>")})).join("")}var m=document.querySelector(".category-list"),h=document.querySelector(".home-title"),k=new(0,i.SwaggerAPI),b=0;function y(){return(y=t(c)(t(r).mark((function e(){var n,o,a,c,i;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.fetchTopBooks();case 3:for(n=t.sent.data,o=0;o<4;o++)a=n[o].books,c=0,b<=767&&(c=1),b>=768&&b<1440&&(c=3),b>=1440&&(c=5),i='<li class="category-list-item top-list-item">\n        <p class="category-name" data-category-name="'.concat(a[0].list_name,'">').concat(a[0].list_name,'</p>\n        <ul class="books-list">\n          ').concat(g(a.slice(0,c)),'\n        </ul>\n       <button class="category-list-button">see more</button>  \n      </li>'),m.insertAdjacentHTML("beforeend",i),x();t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(){document.querySelectorAll(".category-list-button").forEach((function(t){t.addEventListener("click",w)}))}function w(t){return L.apply(this,arguments)}function L(){return(L=t(c)(t(r).mark((function e(n){var o,a;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=n.target.previousElementSibling.previousElementSibling.textContent,k.categoryName=o,t.next=5,k.fetchBooksByCategory();case 5:a=t.sent.data,h.innerHTML=T(o),m.classList.add("category-list-click"),m.innerHTML=g(a),q(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function T(t){var e=t.split(" "),n=e.length/2,o=e.slice(0,n).join(" "),a=e.slice(n).join(" ");return"".concat(o,' <span class="home-title-decor">').concat(a,"</span>")}function q(t){var e=document.querySelectorAll(".aside-item"),n=document.querySelector(".aside-title");e.forEach((function(e){t===e.textContent&&(n.classList.toggle("active"),e.classList.toggle("active"))}))}onload=function(t){b=t.target.body.clientWidth},function(){y.apply(this,arguments)}()}();
//# sourceMappingURL=index.09247812.js.map
