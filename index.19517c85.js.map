{"mappings":"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","sources":["src/js/aside-categories.js","src/js/templates/create-categories.js","src/js/main-page.js","src/js/templates/create-book.js"],"sourcesContent":["import { SwaggerAPI } from './swagger-api';\nimport createCategoriesMarkup from './templates/create-categories';\n\nconst categoriesList = document.querySelector('.aside-list');\nconst categoriesTitle = document.querySelector('.aside-title')\nconst renderingCategories = document.querySelector('.main-content');\n\nconst swaggerCategoriesApi = new SwaggerAPI();\n\nconst createCategoriesItem = async () => {\n  try {\n    const { data } = await swaggerCategoriesApi.fetchBooksCategoryList();\n    const searchCategory = data.map(category => {\n      return `<a class=\"aside-link\"><li class=\"aside-item\">${category.list_name}</li></a>`;\n    }).join('');\n    categoriesList.innerHTML = searchCategory;\n  } catch (error) {\n    console.log(error);\n  };\n};\ncreateCategoriesItem();\n\n\nlet activeCategoryLink = null;\n\n\n//ф-я відображення книг\nconst onCategoriesLinkClick = event => {\n  const value = event.target.textContent;\n  swaggerCategoriesApi.categoryName = value;\n  \n   if (activeCategoryLink) {\n    activeCategoryLink.classList.remove('active'); \n  };\n  \n  activeCategoryLink = event.target\n  activeCategoryLink.classList.add('active'); \n  categoriesTitle.classList.remove('active');\n\n  const createMarkupCategories = async () => {\n    try {\n      const { data } = await swaggerCategoriesApi.fetchBooksByCategory(value);\n      console.log(data);\n\n      const listName = data[0].list_name;\n  \n      const words = listName.split(' ');\n      const halfIndex = words.length / 2;\n\n      const firstHalf = words.slice(0, halfIndex).join(' ');\n      const secondHalf = words.slice(halfIndex).join(' ');\n\n      const decoratedListName = `${firstHalf} <span class=\"categories-title-decor\">${secondHalf}</span>`;\n      renderingCategories.innerHTML = `<h1 class=\"categories-title\">${decoratedListName}</h1> <ul class=\"categories-item\">${createCategoriesMarkup(\n        data\n      )}</ul>`;\n\n    } catch (error) {\n      console.log(error);\n    };\n  };\n  createMarkupCategories()\n}\ncategoriesList.addEventListener('click', onCategoriesLinkClick);\n","export default function createCategoriesMarkup(bookInfo) {\n\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author } = book;\n\n      return `\n\n<li class=\"category-list-item\">\n<a class=\"book-link\" href=\"\">\n<div class=\"book-thumb\">\n<img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n<div class=\"book-overlay\">\n<p class=\"book-overlay-text\">quick view</p>\n</div>\n</div>\n<div class=\"book-card-content\">\n<h2 class=\"book-title\">${title}</h2>\n<p class=\"book-author\">${author}</p>\n</div>\n</a>\n</li>`;\n    })\n    .join('');\n  return markup;\n}\n\n","import { SwaggerAPI } from './swagger-api.js';\nimport createBook from './templates/create-book.js';\n\nconst booksContainer = document.querySelector('.category-list');\nconst title = document.querySelector('.home-title');\n\nconst topBooksAPI = new SwaggerAPI();\n\nlet bodyWidth = 0;\n\nonload = event => {\n  bodyWidth = event.target.body.clientWidth;\n};\n\ncreateBlock();\n\nasync function createBlock() {\n  try {\n    const { data } = await topBooksAPI.fetchTopBooks();\n\n    for (let i = 0; i < 4; i++) {\n      let topBooks = data[i].books;\n      let markUpCount = 0;\n\n      if (bodyWidth <= 767) {\n        markUpCount = 1;\n      }\n      if (bodyWidth >= 768 && bodyWidth < 1440) {\n        markUpCount = 3;\n      }\n      if (bodyWidth >= 1440) {\n        markUpCount = 5;\n      }\n\n      const markup = `<li class=\"category-list-item top-list-item\">\n        <p class=\"category-name\" data-category-name=\"${\n          topBooks[0].list_name\n        }\">${topBooks[0].list_name}</p>\n        <ul class=\"books-list\">\n          ${createBook(topBooks.slice(0, markUpCount))}\n        </ul>\n       <button class=\"category-list-button\">see more</button>  \n      </li>`;\n\n      booksContainer.insertAdjacentHTML('beforeend', markup);\n      findBtn();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction findBtn() {\n  const seeMoreBtnEls = document.querySelectorAll('.category-list-button');\n\n  seeMoreBtnEls.forEach(seeMoreBtn => {\n    seeMoreBtn.addEventListener('click', onSeeMoreBtnClick);\n  });\n}\n\nasync function onSeeMoreBtnClick(event) {\n  try {\n    const name =\n      event.target.previousElementSibling.previousElementSibling.textContent;\n\n    topBooksAPI.categoryName = name;\n    const { data } = await topBooksAPI.fetchBooksByCategory();\n\n    title.innerHTML = divideTitleElements(name);\n    booksContainer.classList.add('category-list-click');\n    booksContainer.innerHTML = createBook(data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction divideTitleElements(categoryName) {\n  const words = categoryName.split(' ');\n  const halfIndex = words.length / 2;\n\n  const firstHalf = words.slice(0, halfIndex).join(' ');\n  const secondHalf = words.slice(halfIndex).join(' ');\n\n  return `${firstHalf} <span class=\"home-title-decor\">${secondHalf}</span>`;\n}\n","export default function createBook(bookInfo) {\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author, _id } = book;\n      return `<li class=\"books-list-item\">\n                 <a class=\"book-link\" href=\"\" data-id=\"${_id}\">\n                    <div class=\"book-thumb\">\n                      <img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n\n                        <div class=\"book-overlay\">\n                       <p class=\"book-overlay-text\">quick view</p>\n                       </div>\n                       </div>                     \n                     <div class=\"book-card-content\">\n                     <h2 class=\"book-title\">${title}</h2>\n                     <p class=\"book-author\">${author}</p>\n                     </div>\n                 </a>                    \n              </li>`;\n    })\n    .join('');\n  return markup;\n}\n"],"names":["$bpxeT","parcelRequire","$8b6b1471fc91ee12$var$categoriesList","document","querySelector","$8b6b1471fc91ee12$var$categoriesTitle","$8b6b1471fc91ee12$var$renderingCategories","$8b6b1471fc91ee12$var$swaggerCategoriesApi","$hrrt1","SwaggerAPI","$8b6b1471fc91ee12$var$createCategoriesItem","$parcel$interopDefault","$2TvXO","mark","_callee","data","searchCategory","fetchBooksCategoryList","_ctx","sent","map","category","concat","list_name","join","innerHTML","console","log","t0","$8b6b1471fc91ee12$var$activeCategoryLink","addEventListener","event","value","target","textContent","categoryName","classList","remove","add","createMarkupCategories","listName","words","halfIndex","firstHalf","secondHalf","decoratedListName","fetchBooksByCategory","split","length","slice","book","book_image","description","title","author","$92816cdb1debc4c6$export$2e2bcd8739ae039","bookInfo","_id","$6b1db6d68125062a$var$booksContainer","$6b1db6d68125062a$var$title","$6b1db6d68125062a$var$topBooksAPI","$6b1db6d68125062a$var$bodyWidth","$6b1db6d68125062a$var$_createBlock","i","topBooks","markUpCount","markup","fetchTopBooks","books","insertAdjacentHTML","$6b1db6d68125062a$var$findBtn","apply","this","arguments","querySelectorAll","forEach","seeMoreBtn","$6b1db6d68125062a$var$onSeeMoreBtnClick","$6b1db6d68125062a$var$_onSeeMoreBtnClick","name","previousElementSibling","$6b1db6d68125062a$var$divideTitleElements","onload","body","clientWidth","$6b1db6d68125062a$var$createBlock"],"version":3,"file":"index.19517c85.js.map"}