{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-8dbc024d4dbba0ee.js","src/js/aside-categories.js","src/js/templates/create-categories.js","src/js/main-page.js","src/js/templates/create-book.js","src/js/modal-window.js","node_modules/@parcel/runtime-js/lib/runtime-80feda45bc592a11.js","node_modules/@parcel/runtime-js/lib/runtime-9f9fd9c451955085.js","node_modules/@parcel/runtime-js/lib/runtime-4f0f15ec53ac799d.js","node_modules/@parcel/runtime-js/lib/runtime-bd72d313c3f5edd0.js","node_modules/@parcel/runtime-js/lib/runtime-eaf86614c0714f75.js","node_modules/@parcel/runtime-js/lib/runtime-8ab60666a9f92dd7.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9p9yL\\\":\\\"index.80ab7664.js\\\",\\\"2dPzb\\\":\\\"amazon.3c3f1cde.webp\\\",\\\"82OGy\\\":\\\"amazon.b0a6f23c.png\\\",\\\"glj45\\\":\\\"apple.78ef44cc.webp\\\",\\\"cKFxX\\\":\\\"apple.34efda77.png\\\",\\\"kLXsS\\\":\\\"bookshop.bf5b4137.webp\\\",\\\"jA3cI\\\":\\\"bookshop.11f8a97b.png\\\",\\\"bk09w\\\":\\\"index.246eb522.js\\\"}\"));","import { SwaggerAPI } from './swagger-api';\nimport createCategoriesMarkup from './templates/create-categories';\n\nconst categoriesList = document.querySelector('.aside-list');\nconst categoriesTitle = document.querySelector('.aside-title')\nconst renderingCategories = document.querySelector('.main-content');\n\nconst swaggerCategoriesApi = new SwaggerAPI();\n\nconst createCategoriesItem = async () => {\n  try {\n    const { data } = await swaggerCategoriesApi.fetchBooksCategoryList();\n    const searchCategory = data.map(category => {\n      return `<a class=\"aside-link\"><li class=\"aside-item\">${category.list_name}</li></a>`;\n    }).join('');\n    categoriesList.innerHTML = searchCategory;\n  } catch (error) {\n    console.log(error);\n  };\n};\ncreateCategoriesItem();\n\n\nlet activeCategoryLink = null;\n\n\n//ф-я відображення книг\nconst onCategoriesLinkClick = event => {\n  const value = event.target.textContent;\n  swaggerCategoriesApi.categoryName = value;\n  \n   if (activeCategoryLink) {\n    activeCategoryLink.classList.remove('active'); \n  };\n  \n  activeCategoryLink = event.target\n  activeCategoryLink.classList.add('active'); \n  categoriesTitle.classList.remove('active');\n\n  const createMarkupCategories = async () => {\n    try {\n      const { data } = await swaggerCategoriesApi.fetchBooksByCategory(value);\n      console.log(data);\n\n      const listName = data[0].list_name;\n  \n      const words = listName.split(' ');\n      const halfIndex = words.length / 2;\n\n      const firstHalf = words.slice(0, halfIndex).join(' ');\n      const secondHalf = words.slice(halfIndex).join(' ');\n\n      const decoratedListName = `${firstHalf} <span class=\"categories-title-decor\">${secondHalf}</span>`;\n      renderingCategories.innerHTML = `<h1 class=\"categories-title\">${decoratedListName}</h1> <ul class=\"categories-item\">${createCategoriesMarkup(\n        data\n      )}</ul>`;\n\n    } catch (error) {\n      console.log(error);\n    };\n  };\n  createMarkupCategories()\n}\ncategoriesList.addEventListener('click', onCategoriesLinkClick);\n","export default function createCategoriesMarkup(bookInfo) {\n\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author } = book;\n\n      return `\n\n<li class=\"category-list-item\">\n<a class=\"book-link\" href=\"\">\n<div class=\"book-thumb\">\n<img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n<div class=\"book-overlay\">\n<p class=\"book-overlay-text\">quick view</p>\n</div>\n</div>\n<div class=\"book-card-content\">\n<h2 class=\"book-title\">${title}</h2>\n<p class=\"book-author\">${author}</p>\n</div>\n</a>\n</li>`;\n    })\n    .join('');\n  return markup;\n}\n\n","import { SwaggerAPI } from './swagger-api.js';\nimport createBook from './templates/create-book.js';\nimport addListener from './modal-window.js';\n\nconst booksContainer = document.querySelector('.category-list');\nconst title = document.querySelector('.home-title');\n\nconst topBooksAPI = new SwaggerAPI();\n\nlet bodyWidth = 0;\n\nonload = event => {\n  bodyWidth = event.target.body.clientWidth;\n};\n\ncreateBlock();\n\nasync function createBlock() {\n  try {\n    const { data } = await topBooksAPI.fetchTopBooks();\n\n    for (let i = 0; i < 4; i++) {\n      let topBooks = data[i].books;\n      let markUpCount = 0;\n\n      if (bodyWidth <= 767) {\n        markUpCount = 1;\n      }\n      if (bodyWidth >= 768 && bodyWidth < 1440) {\n        markUpCount = 3;\n      }\n      if (bodyWidth >= 1440) {\n        markUpCount = 5;\n      }\n\n      const markup = `<li class=\"category-list-item top-list-item\">\n        <p class=\"category-name\" data-category-name=\"${\n          topBooks[0].list_name\n        }\">${topBooks[0].list_name}</p>\n        <ul class=\"books-list\">\n          ${createBook(topBooks.slice(0, markUpCount))}\n        </ul>\n       <button class=\"category-list-button\">see more</button>  \n      </li>`;\n\n      booksContainer.insertAdjacentHTML('beforeend', markup);\n      findBtn();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  addListener()\n}\n\nfunction findBtn() {\n  const seeMoreBtnEls = document.querySelectorAll('.category-list-button');\n\n  seeMoreBtnEls.forEach(seeMoreBtn => {\n    seeMoreBtn.addEventListener('click', onSeeMoreBtnClick);\n  });\n}\n\nasync function onSeeMoreBtnClick(event) {\n  try {\n    const name =\n      event.target.previousElementSibling.previousElementSibling.textContent;\n\n    topBooksAPI.categoryName = name;\n    const { data } = await topBooksAPI.fetchBooksByCategory();\n\n    title.innerHTML = divideTitleElements(name);\n    booksContainer.classList.add('category-list-click');\n    booksContainer.innerHTML = createBook(data);\n    addActiveClassToCategoryListItem(name);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction divideTitleElements(categoryName) {\n  const words = categoryName.split(' ');\n  const halfIndex = words.length / 2;\n\n  const firstHalf = words.slice(0, halfIndex).join(' ');\n  const secondHalf = words.slice(halfIndex).join(' ');\n\n  return `${firstHalf} <span class=\"home-title-decor\">${secondHalf}</span>`;\n}\n\nfunction addActiveClassToCategoryListItem(name) {\n  const asideCategoryItems = document.querySelectorAll('.aside-item');\n  const allCategoriesTitle = document.querySelector('.aside-title');\n\n  asideCategoryItems.forEach(asideCategoryItem => {\n    if (name === asideCategoryItem.textContent) {\n      allCategoriesTitle.classList.toggle('active');\n      asideCategoryItem.classList.toggle('active');\n    }\n  });\n}\n","export default function createBook(bookInfo) {\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author, _id } = book;\n      return `<li class=\"books-list-item\">\n                 <a class=\"book-link\" href=\"\" data-id=\"${_id}\">\n                    <div class=\"book-thumb\">\n                      <img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n\n                        <div class=\"book-overlay\">\n                       <p class=\"book-overlay-text\">quick view</p>\n                       </div>\n                       </div>                     \n                     <div class=\"book-card-content\">\n                     <h2 class=\"book-title\">${title}</h2>\n                     <p class=\"book-author\">${author}</p>\n                     </div>\n                 </a>                    \n              </li>`;\n    })\n    .join('');\n  return markup;\n}\n","// -----------images----------\nimport amazon from '../images/shopping/amazon.webp';\nimport amazonpng from '../images/shopping/amazon.png';\nimport apple from '../images/shopping/apple.webp';\nimport applepng from '../images/shopping/apple.png';\nimport bookshop from '../images/shopping/bookshop.webp';\nimport bookshoppng from '../images/shopping/bookshop.png';\n// -----------------------------\nimport localStorage from './local-storage.js';\nimport { SwaggerAPI } from './swagger-api.js';\nconst fetchAPI = new SwaggerAPI();\n\nconst backdrop = document.querySelector('.backdrop');\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst modalShoppingBtn = document.querySelector('.modal-btn');\nconst modalInfo = document.querySelector('.modal-info');\nconst container = document.querySelector('.modal-book');\nlet bookApi = {};\n\nexport default function addListener() {\n  const bookContainer = document.querySelectorAll('.book-link');\n  bookContainer.forEach(book =>\n    book.addEventListener('click', onOpenModalWindow)\n  );\n}\n\nasync function onOpenModalWindow(event) {\n  event.preventDefault();\n  document.body.style.overflow = 'hidden';\n  backdrop.classList.toggle('is-hidden');\nbackdrop.addEventListener('click', onBackdrop);\nwindow.addEventListener('keydown', onEsc);\ncloseBtn.addEventListener('click', onCloseModalWindow);\n  try {\n    fetchAPI.bookId = event.currentTarget.dataset.id;\n    const resp = await fetchAPI.fetchBookById();\n    bookApi = resp.data;\n    createBookMarkup(bookApi);\n    createShoppingBtn(bookApi);\n    modalShoppingBtn.addEventListener('click', onUpdateShopList);\n  } catch {\n    err => console.log(err);\n  }\n}\n\n function createShoppingBtn(data) {\n    const storage =  localStorage.load('bookList');\n    console.log(storage);\n    if (!storage || storage.length === 0) {\n      addBtn();\n      return;\n    }\n    for (book of storage) {\n      if (book.title === data.title) {\n        removeBtn();\n        return;\n      } else {\n        addBtn();\n      }}\n}\n\nfunction onUpdateShopList() {\n  const storage = localStorage.load('bookList');\n      const title = document.querySelector('.modal-book-name').textContent;\n    if\n     (modalShoppingBtn.textContent === 'add to shopping list') {\n      localStorage.addBookToStorage(bookApi);\n      removeBtn();\n    }\n     else {\n       storage.forEach((book, ind, arr) => {\n        if (book.title === title) {\n          return arr.splice(ind, 1);\n        }\n      });\n\n      localStorage.save('bookList', storage)\n      addBtn();\n    }\n}\n\nfunction addBtn() {\n  modalShoppingBtn.textContent = 'add to shopping list';\n  modalInfo.style.display = 'none';\n}\n\nfunction removeBtn() {\n  modalShoppingBtn.textContent = 'remove from the shopping list';\n  modalInfo.style.display = 'block';\n}\n\nfunction createBookMarkup(book) {\n  const markup = `<img\nclass=\"modal-img\"\nsrc=${book.book_image}\nalt=\"Book cover\"\n/>\n<div class=\"modal-info-container\">\n<p class=\"modal-book-name\">${book.title}</p>\n<p class=\"modal-book-author\">${book.author}</p>\n<p class=\"modal-list-name is-hidden\">${book.list_name}</p>\n<p class=\"modal-book-desc\">${book.description}\n</p>\n<div class=\"modal-icons-container\">\n  <a href=\"${book.buy_links[0].url}\" target=\"_blank\" rel=\"noopener noreferrer\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${amazon}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${amazonpng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${amazonpng}\"\n        alt=\"Amazon\"\n      /> </picture\n  ></a>\n  <a href=\"${book.buy_links[1].url}\" target=\"_blank\" rel=\"noopener noreferrer\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${apple}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${applepng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${applepng}\"\n        alt=\"Apple Books\"\n      /> </picture\n  ></a>\n  <a href=\"${book.buy_links[4].url}\" target=\"_blank\" rel=\"noopener noreferrer\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${bookshop}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${bookshoppng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${bookshoppng}\"\n        alt=\"Bookshop\"\n      /></picture\n  ></a>\n</div>\n</div>`;\n  container.innerHTML = markup;\n}\n\nfunction onEsc(event) {\n  if (event.key === \"Escape\"){\n    onCloseModalWindow()\n  }\n}\n\nfunction onBackdrop(event){\n  if(event.target === backdrop){\n    onCloseModalWindow()}\n}\n\nfunction onCloseModalWindow() {\n  backdrop.classList.toggle('is-hidden');\n  document.body.style.overflow = 'visible';\n  backdrop.removeEventListener('click', onBackdrop);\n  window.removeEventListener('keydown', onEsc);\n  closeBtn.removeEventListener('click', onCloseModalWindow);\n}","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"2dPzb\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"82OGy\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"glj45\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"cKFxX\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"kLXsS\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"jA3cI\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$8b6b1471fc91ee12$var$categoriesList","document","querySelector","$8b6b1471fc91ee12$var$categoriesTitle","$8b6b1471fc91ee12$var$renderingCategories","$8b6b1471fc91ee12$var$swaggerCategoriesApi","$hrrt1","SwaggerAPI","$8b6b1471fc91ee12$var$createCategoriesItem","$parcel$interopDefault","$2TvXO","mark","_callee","data","searchCategory","fetchBooksCategoryList","_ctx","sent","map","category","concat","list_name","join","innerHTML","console","log","t0","$8b6b1471fc91ee12$var$activeCategoryLink","addEventListener","event","target","textContent","categoryName","classList","remove","add","createMarkupCategories","listName","words","halfIndex","firstHalf","secondHalf","decoratedListName","fetchBooksByCategory","split","slice","book","book_image","description","title","author","$92816cdb1debc4c6$export$2e2bcd8739ae039","bookInfo","_id","$ab68b0bff8d326c6$exports","getBundleURL","resolve","$696aa0dbef714b62$exports","$f50635ad385f20d0$exports","$e6d9b4b581a9db11$exports","$2f2dc81ef442f82a$exports","$d7e2380ebd63f1c1$exports","$50be0534152dd275$var$fetchAPI","$50be0534152dd275$var$backdrop","$50be0534152dd275$var$closeBtn","$50be0534152dd275$var$modalShoppingBtn","$50be0534152dd275$var$modalInfo","$50be0534152dd275$var$container","$50be0534152dd275$var$bookApi","$50be0534152dd275$export$2e2bcd8739ae039","querySelectorAll","forEach","$50be0534152dd275$var$onOpenModalWindow","$50be0534152dd275$var$_onOpenModalWindow","apply","this","arguments","resp","preventDefault","body","style","overflow","toggle","$50be0534152dd275$var$onBackdrop","window","$50be0534152dd275$var$onEsc","$50be0534152dd275$var$onCloseModalWindow","bookId","currentTarget","dataset","fetchBookById","$50be0534152dd275$var$createBookMarkup","$50be0534152dd275$var$createShoppingBtn","$50be0534152dd275$var$onUpdateShopList","storage","$4LMMA","default","load","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","$50be0534152dd275$var$removeBtn","$50be0534152dd275$var$addBtn","return","addBookToStorage","ind","arr","splice","save","display","markup","buy_links","key","removeEventListener","$6b1db6d68125062a$var$booksContainer","$6b1db6d68125062a$var$title","$6b1db6d68125062a$var$topBooksAPI","$6b1db6d68125062a$var$bodyWidth","$6b1db6d68125062a$var$_createBlock","topBooks","markUpCount","fetchTopBooks","books","insertAdjacentHTML","$6b1db6d68125062a$var$findBtn","seeMoreBtn","$6b1db6d68125062a$var$onSeeMoreBtnClick","$6b1db6d68125062a$var$_onSeeMoreBtnClick","name","previousElementSibling","$6b1db6d68125062a$var$divideTitleElements","$6b1db6d68125062a$var$addActiveClassToCategoryListItem","asideCategoryItems","allCategoriesTitle","asideCategoryItem","onload","clientWidth","$6b1db6d68125062a$var$createBlock"],"version":3,"file":"index.80ab7664.js.map"}