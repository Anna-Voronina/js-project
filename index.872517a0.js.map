{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAiBC,SAASC,cAAc,gBAEjB,IAAI,EAAAJ,EAAAK,aAG9BC,yBACAC,MAAK,SAAAC,G,IACEC,EADKD,EAAJE,KAEJC,KAAI,SAAAC,GACH,MAAO,gDAAmEC,OAAnBD,EAASE,UAAU,Y,IAE3EC,KAAK,IACRb,EAAec,UAAYP,C,IAE5BQ,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E,IAIhBG,sBAAwB,SAAAC,GACtBH,QAAQC,IAAIE,E,EAGdpB,EAAeqB,iBAAiB,QAASF,uB,iCCzBzC,IAAAG,EAAAvB,EAAA,S,0BCAe,SAAAwB,EAAoBC,GAejC,OAdeA,EACZf,KAAI,SAAAgB,GACH,IAAQC,EAA2CD,EAA3CC,WAAYC,EAA+BF,EAA/BE,YAAaC,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OACxC,MAAO,iJAEgElB,OAApBe,EAAW,WAEff,OAFwBgB,EAAY,yHAGrChB,OADCiB,EAAM,6DACAjB,OAAPkB,EAAO,gG,IAKtDhB,KAAK,G,CDXV,IAAMiB,EAAiB7B,SAASC,cAAc,kBAE1C6B,EAAY,EAEhBC,OAAS,SAAAZ,GACPW,EAAYX,EAAMa,OAAOC,KAAKC,W,EAGhC,IAAMC,EAAc,IAAI,EAAAtC,EAAAK,Y,SAoBTkC,I,OAAAA,EAAfC,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,I,IACUjC,EAECkC,EACHC,EACAC,EACAC,E,kFALiBT,EAAYU,gB,OAEnC,IAFMtC,EAAMuC,EAAAC,KAAJxC,KAECkC,EAAI,EAAGA,EAAI,EAAGA,IACjBC,EAAWnC,EAAKkC,GAAGO,MACV,KACTJ,EAAc,EAEdd,GAAa,MACfc,EAAc,GAEZd,EAAY,KAAOA,EAAY,MACjCc,EAAc,GAEZd,GAAa,MACfc,EAAc,GAEhBD,EAAS,0CAGDjC,OAFuBgC,EAAS,GAAG/B,UAAU,kCAEFD,OAA3CY,EAAWoB,EAASO,MAAM,EAAGL,IAAc,+FAKnDf,EAAeqB,mBAAmB,YAAaP,G,4CAzBzBQ,MAAAC,KAAAC,U,aAAXjB,EAAWe,MAAAC,KAAAC,U,CA6B1BC,G","sources":["src/js/aside-categories.js","src/js/main-page.js","src/js/templates/create-book.js"],"sourcesContent":["import { SwaggerAPI } from './swagger-api';\n\nconst categoriesList = document.querySelector('.aside-list');\n\nconst swaggerCategoriesApi = new SwaggerAPI();\n\nswaggerCategoriesApi\n  .fetchBooksCategoryList()\n  .then(({ data }) => {\n    const searchCategory = data\n      .map(category => {\n        return `<a class=\"aside-link\"><li class=\"aside-item\">${category.list_name}</li></a>`;\n      })\n      .join('');\n    categoriesList.innerHTML = searchCategory;\n  })\n  .catch(error => {\n    console.log(error);\n  });\n\n//ф-я відображення книг\nonCategoriesLinkClick = event => {\n  console.log(event);\n};\n\ncategoriesList.addEventListener('click', onCategoriesLinkClick);\n","import { SwaggerAPI } from './swagger-api.js';\nimport createBook from './templates/create-book.js';\n\nconst booksContainer = document.querySelector('.category-list');\n\nlet bodyWidth = 0;\n\nonload = event => {\n  bodyWidth = event.target.body.clientWidth;\n};\n\nconst topBooksAPI = new SwaggerAPI();\n\n// function createBook(bookInfo) {\n//   const markup = bookInfo\n//     .map(book => {\n//       const { book_image, description, title, author } = book;\n//       return `<li class=\"category-list-item\">\n//                        <a class=\"book-link\" href=\"\">\n//                           <img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n//                            <div class=\"book-card-content\">\n//                             <h2 class=\"book-title\">${title}</h2>\n//                            <p class=\"book-author\">${author}</p>\n//                          </div>\n//                       </a>\n//                      </li>`;\n//     })\n//     .join('');\n//   return markup;\n// }\n\nasync function createBlock() {\n  const { data } = await topBooksAPI.fetchTopBooks();\n\n  for (let i = 0; i < 4; i++) {\n    let topBooks = data[i].books;\n    let markup = null;\n    let markUpCount = 0;\n\n    if (bodyWidth <= 375) {\n      markUpCount = 1;\n    }\n    if (bodyWidth > 375 && bodyWidth < 768) {\n      markUpCount = 3;\n    }\n    if (bodyWidth >= 768) {\n      markUpCount = 5;\n    }\n    markup = `<li>\n        <p class=\"category-name\">${topBooks[0].list_name}</p>\n        <ul>\n          ${createBook(topBooks.slice(0, markUpCount))}\n        </ul>\n       <button class=\"category-list-button\">see more</button>\n      </li>`;\n\n    booksContainer.insertAdjacentHTML('beforeend', markup);\n  }\n}\n\ncreateBlock();\n","export default function createBook(bookInfo) {\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author } = book;\n      return `<li class=\"category-list-item\">\n                       <a class=\"book-link\" href=\"\">\n                          <img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n                           <div class=\"book-card-content\">\n                            <h2 class=\"book-title\">${title}</h2>\n                           <p class=\"book-author\">${author}</p>\n                         </div>\n                      </a>\n                     </li>`;\n    })\n    .join('');\n  return markup;\n}\n"],"names":["$hrrt1","parcelRequire","$8b6b1471fc91ee12$var$categoriesList","document","querySelector","SwaggerAPI","fetchBooksCategoryList","then","param","searchCategory","data","map","category","concat","list_name","join","innerHTML","catch","error","console","log","onCategoriesLinkClick","event","addEventListener","$bpxeT","$92816cdb1debc4c6$export$2e2bcd8739ae039","bookInfo","book","book_image","description","title","author","$6b1db6d68125062a$var$booksContainer","$6b1db6d68125062a$var$bodyWidth","onload","target","body","clientWidth","$6b1db6d68125062a$var$topBooksAPI","$6b1db6d68125062a$var$_createBlock","$parcel$interopDefault","$2TvXO","mark","_callee","i","topBooks","markup","markUpCount","fetchTopBooks","_ctx","sent","books","slice","insertAdjacentHTML","apply","this","arguments","$6b1db6d68125062a$var$createBlock"],"version":3,"file":"index.872517a0.js.map"}