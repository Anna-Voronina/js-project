function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},r.parcelRequired7c6=a),a.register("kyEFX",(function(t,r){var o,n;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return n}),(function(e){return n=e}));var a={};o=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},n=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"7nZc1":"shopping-list.8ea1726d.js","aK5fH":"books_322_@1.756abb35.webp","jzumu":"books_322_@2.061cea98.webp","9XvFm":"books_322_@1.9d82d098.png","2Qp9q":"books_322_@2.80ece8cf.png","9P9hu":"books_265_@1.88805d0a.webp","fKwqX":"books_265_@2.2708f99b.webp","5vwjB":"books_265_@1.6c062fbc.png","2gN6y":"books_265_@2.28750540.png","CgNCO":"amazon.b0a6f23c.png","7QMdA":"amazon.3c3f1cde.webp","hYuvF":"apple.34efda77.png","3CFHC":"apple.78ef44cc.webp","1dJFY":"bookshop.11f8a97b.png","lKiFj":"bookshop.bf5b4137.webp","lp5u4":"sprite.417df275.svg","91Y78":"index.7e93dafa.js"}')),a("3gLCb"),a("8BGGW"),a("bUb57");var s;s=new URL(a("kyEFX").resolve("aK5fH"),import.meta.url).toString();var i;i=new URL(a("kyEFX").resolve("jzumu"),import.meta.url).toString();var l;l=new URL(a("kyEFX").resolve("9XvFm"),import.meta.url).toString();var c;c=new URL(a("kyEFX").resolve("2Qp9q"),import.meta.url).toString();var p;p=new URL(a("kyEFX").resolve("9P9hu"),import.meta.url).toString();var u;u=new URL(a("kyEFX").resolve("fKwqX"),import.meta.url).toString();var m;m=new URL(a("kyEFX").resolve("5vwjB"),import.meta.url).toString();var g;g=new URL(a("kyEFX").resolve("2gN6y"),import.meta.url).toString();const d=(e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}},b=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},h=b("bookList")||[];var f,v={save:d,load:b,remove:e=>{try{localStorage.removeItem(e)}catch(e){console.log("Remove item error: ",e.message)}},addBookToStorage:e=>{const{title:t,list_name:r,description:o,author:n,book_image:a}=e,s={title:t,list_name:r,description:o,author:n,book_image:a,amazon:e.buy_links[0].url,apple:e.buy_links[1].url,bookShop:e.buy_links[4].url};if(0===h.length)h.push(s),d("bookList",h);else{h.find((e=>e.title===s.title))||(h.push(s),d("bookList",h))}}};f=new URL(a("kyEFX").resolve("CgNCO"),import.meta.url).toString();var _;_=new URL(a("kyEFX").resolve("7QMdA"),import.meta.url).toString();var k;k=new URL(a("kyEFX").resolve("hYuvF"),import.meta.url).toString();var y;y=new URL(a("kyEFX").resolve("3CFHC"),import.meta.url).toString();var w;w=new URL(a("kyEFX").resolve("1dJFY"),import.meta.url).toString();var S;S=new URL(a("kyEFX").resolve("lKiFj"),import.meta.url).toString();var F;F=new URL(a("kyEFX").resolve("lp5u4"),import.meta.url).toString();let H=0;onload=e=>{H=e.target.body.clientWidth};const E=new(0,a("b2XdZ").SwaggerAPI),R=document.querySelector(".js-shopping-list"),$=v.load("bookList");function L(){return`\n    <p class="shopping-list-text">This page is empty, add some books and proceed to order.</p>\n        <picture>\n            <source media="(min-width: 768px)" srcset="\n                            ${t(s)} 1x,\n                            ${t(i)} 2x\n                            " type="image/webp" />\n            <source media="(min-width: 768px)" srcset="\n                            ${t(l)} 1x,\n                            ${t(c)} 2x\n                            " type="image/png" />\n\n            <source media="(max-width: 767px)" srcset="\n                            ${t(p)} 1x,\n                            ${t(u)} 2x\n                            " type="image/webp" />\n            <source media="(max-width: 767px)" srcset="\n                            ${t(m)} 1x,\n                            ${t(g)} 2x\n                            " type="image/png" />\n\n            <img class="shopping-list-image" src="${t(p)}" alt="Books" loading="lazy" />\n        </picture>\n    `}(async()=>{E.bookId="643282b1e85766588626a080";const{data:e}=await E.fetchBookById();if(v.addBookToStorage(e),$.length>0){R.innerHTML=`\n        <ul class="shop-cart-list">\n            ${r=$,r.map((e=>{let{title:r,list_name:o,description:n,author:a,book_image:s,amazon:i,apple:l,bookShop:c}=e;return 0!==n.length||(n="We are pleased to inform you that all information about this book you can found on partner resources (such as Amazon, etc.)"),H<=767&&(o=o.slice(0,20)+"...",n=n.slice(0,85)+"..."),H>=768&&H<1440&&(n.length>1&&n.length<250||n.slice(0,250)),`<li class="shop-cart-container">\n            <div class="shop-cart-wrap">\n                <div class="shop-image-wrapper">\n                    <img class="shop-image" src="${s}" alt="${r}">\n                </div>\n                <div class="shop-cart-info">\n                    <h2 class="shop-cart-title">${r}</h2>\n                    <h3 class="shop-cart-category">${o}</h3>\n                    <p class="shop-cart-description">${n}</p>\n                    <div class="shop-cart-bottom-wrap">\n                        <h4 class="shop-cart-author">${a}</h4>\n                        <ul class="shop-cart-media">\n                            <li class="shop-cart-media-item">\n                                <a href="${i}" target="_blank" rel="noopener noreferrer">\n                                    <picture>\n                                        <source srcset="${t(_)}" type="image/webp" />\n                                        <source srcset="${t(f)}" type="image/png" />\n                                        <img class="media-icon amazon-icon" src="${t(f)}" alt="Amazon logo" />\n                                    </picture>\n                                </a>    \n                            </li>\n                            <li class="shop-cart-media-item">\n                                <a href="${l}" target="_blank" rel="noopener noreferrer">\n                                    <picture>\n                                        <source srcset="${t(y)}" type="image/webp" />\n                                        <source srcset="${t(k)}" type="image/png" />\n                                        <img class="media-icon" src="${t(k)}" alt="Apple book logo" />\n                                    </picture>\n                                </a>\n                            </li>\n                            <li class="shop-cart-media-item">\n                                <a href="${c}" target="_blank" rel="noopener noreferrer">\n                                    <picture>\n                                        <source srcset="${t(S)}" type="image/webp" /> \n                                        <source srcset="${t(w)}" type="image/png" />\n                                        <img class="media-icon" src="${t(w)}" alt="Book shop logo" />\n                                    </picture>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                    <button class="shop-cart-btn" type="button" data-title="${r}">\n                        <svg class="shop-cart-btn-trash">\n                            <use href="${t(F)}#trash"></use>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n          </div>\n        </li>`})).join("")}\n        </ul>\n        `;document.querySelectorAll(".shop-cart-btn").forEach((e=>{e.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName||"svg"===e.target.nodeName||"use"===e.target.nodeName){const t=$.indexOf($.find((t=>t.title===e.currentTarget.dataset.title)));if(t<0)return;$.splice(t,1),v.save("bookList",$),e.target.closest("li").remove(),R.innerHTML=L()}}))}))}else R.innerHTML=L();var r})();
//# sourceMappingURL=shopping-list.8ea1726d.js.map
