!function(){function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},t.parcelRequired7c6=a),a.register("iE7OH",(function(n,t){var r,o;e(n.exports,"register",(function(){return r}),(function(e){return r=e})),e(n.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)a[n[t]]=e[n[t]]},o=function(e){var n=a[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),a.register("aNJCr",(function(n,t){var r;e(n.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var n=o[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=n),n}})),a("iE7OH").register(JSON.parse('{"l20mf":"shopping-list.b0c24915.js","1OrD9":"books_322_@1.756abb35.webp","aTZT5":"books_322_@2.061cea98.webp","b2v3F":"books_322_@1.9d82d098.png","kdX8F":"books_322_@2.80ece8cf.png","anJen":"books_265_@1.88805d0a.webp","8Wzly":"books_265_@2.2708f99b.webp","dZopz":"books_265_@1.6c062fbc.png","9LOqr":"books_265_@2.28750540.png","82OGy":"amazon.b0a6f23c.png","2dPzb":"amazon.3c3f1cde.webp","cKFxX":"apple.34efda77.png","glj45":"apple.78ef44cc.webp","jA3cI":"bookshop.11f8a97b.png","kLXsS":"bookshop.bf5b4137.webp","ee16w":"sprite.417df275.svg","bk09w":"index.74ae39d0.js"}')),a("71ZRj"),a("ekC86"),a("i8Q71");var c,s=a("bpxeT"),i=a("2TvXO");c=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("1OrD9");var l;l=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("aTZT5");var p;p=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("b2v3F");var u;u=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("kdX8F");var d;d=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("anJen");var f;f=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("8Wzly");var g;g=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("dZopz");var m;m=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("9LOqr");var h,b=function(e,n){try{var t=JSON.stringify(n);localStorage.setItem(e,t)}catch(e){console.error("Set state error: ",e.message)}},v=function(e){try{var n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(e){console.error("Get state error: ",e.message)}},_=v("bookList")||[],H={save:b,load:v,remove:function(e){try{localStorage.removeItem(e)}catch(e){console.log("Remove item error: ",e.message)}},addBookToStorage:function(e){var n={title:e.title,list_name:e.list_name,description:e.description,author:e.author,book_image:e.book_image,amazon:e.buy_links[0].url,apple:e.buy_links[1].url,bookShop:e.buy_links[4].url};0===_.length?(_.push(n),b("bookList",_)):_.find((function(e){return e.title===n.title}))||(_.push(n),b("bookList",_))}};h=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("82OGy");var k;k=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("2dPzb");var E;E=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("cKFxX");var y;y=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("glj45");var w;w=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("jA3cI");var R;R=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("kLXsS");var O;O=a("aNJCr").getBundleURL("l20mf")+a("iE7OH").resolve("ee16w");var S=0;onload=function(e){S=e.target.body.clientWidth};var x,L=new(0,a("hrrt1").SwaggerAPI),N=document.querySelector(".js-shopping-list"),A=H.load("bookList"),F=(x=n(s)(n(i).mark((function e(){var t;return n(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.bookId="643282b1e85766588626a080",e.next=3,L.fetchBookById();case 3:t=e.sent.data,H.addBookToStorage(t),A.length>0?(N.innerHTML='\n        <ul class="shop-cart-list">\n            '.concat(A.map((function(e){var t=e.title,r=e.list_name,o=e.description,a=e.author,c=e.book_image,s=e.amazon,i=e.apple,l=e.bookShop;return 0!==o.length||(o="We are pleased to inform you that all information about this book you can found on partner resources (such as Amazon, etc.)"),S<=767&&(r=r.slice(0,20)+"...",o=o.slice(0,85)+"..."),S>=768&&S<1440&&(o.length>1&&o.length<250||o.slice(0,250)),'<li class="shop-cart-container">\n            <div class="shop-cart-wrap">\n                <div class="shop-image-wrapper">\n                    <img class="shop-image" src="'.concat(c,'" alt="').concat(t,'">\n                </div>\n                <div class="shop-cart-info">\n                    <h2 class="shop-cart-title">').concat(t,'</h2>\n                    <h3 class="shop-cart-category">').concat(r,'</h3>\n                    <p class="shop-cart-description">').concat(o,'</p>\n                    <div class="shop-cart-bottom-wrap">\n                        <h4 class="shop-cart-author">').concat(a,'</h4>\n                        <ul class="shop-cart-media">\n                            <li class="shop-cart-media-item">\n                                <a href="').concat(s,'" target="_blank" rel="noopener noreferrer">\n                                    <picture>\n                                        <source srcset="').concat(n(k),'" type="image/webp" />\n                                        <source srcset="').concat(n(h),'" type="image/png" />\n                                        <img class="media-icon amazon-icon" src="').concat(n(h),'" alt="Amazon logo" />\n                                    </picture>\n                                </a>    \n                            </li>\n                            <li class="shop-cart-media-item">\n                                <a href="').concat(i,'" target="_blank" rel="noopener noreferrer">\n                                    <picture>\n                                        <source srcset="').concat(n(y),'" type="image/webp" />\n                                        <source srcset="').concat(n(E),'" type="image/png" />\n                                        <img class="media-icon" src="').concat(n(E),'" alt="Apple book logo" />\n                                    </picture>\n                                </a>\n                            </li>\n                            <li class="shop-cart-media-item">\n                                <a href="').concat(l,'" target="_blank" rel="noopener noreferrer">\n                                    <picture>\n                                        <source srcset="').concat(n(R),'" type="image/webp" /> \n                                        <source srcset="').concat(n(w),'" type="image/png" />\n                                        <img class="media-icon" src="').concat(n(w),'" alt="Book shop logo" />\n                                    </picture>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                    <button class="shop-cart-btn" type="button" data-title="').concat(t,'">\n                        <svg class="shop-cart-btn-trash">\n                            <use href="').concat(n(O),'#trash"></use>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n          </div>\n        </li>')})).join(""),"\n        </ul>\n        "),document.querySelectorAll(".shop-cart-btn").forEach((function(e){e.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName||"svg"===e.target.nodeName||"use"===e.target.nodeName){var n=A.indexOf(A.find((function(n){return n.title===e.currentTarget.dataset.title})));if(n<0)return;A.splice(n,1),H.save("bookList",A),e.target.closest("li").remove(),N.innerHTML=B()}}))}))):N.innerHTML=B();case 6:case"end":return e.stop()}}),e)}))),function(){return x.apply(this,arguments)});function B(){return'\n    <p class="shopping-list-text">This page is empty, add some books and proceed to order.</p>\n        <picture>\n            <source media="(min-width: 768px)" srcset="\n                            '.concat(n(c)," 1x,\n                            ").concat(n(l),' 2x\n                            " type="image/webp" />\n            <source media="(min-width: 768px)" srcset="\n                            ').concat(n(p)," 1x,\n                            ").concat(n(u),' 2x\n                            " type="image/png" />\n\n            <source media="(max-width: 767px)" srcset="\n                            ').concat(n(d)," 1x,\n                            ").concat(n(f),' 2x\n                            " type="image/webp" />\n            <source media="(max-width: 767px)" srcset="\n                            ').concat(n(g)," 1x,\n                            ").concat(n(m),' 2x\n                            " type="image/png" />\n\n            <img class="shopping-list-image" src="').concat(n(d),'" alt="Books" loading="lazy" />\n        </picture>\n    ')}F()}();
//# sourceMappingURL=shopping-list.b0c24915.js.map
