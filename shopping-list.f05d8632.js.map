{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-ee00804fa89bf3ea.js","src/js/shopping-list.js","src/js/shopping-list-main.js","node_modules/@parcel/runtime-js/lib/runtime-ee9f642558ab947d.js","node_modules/@parcel/runtime-js/lib/runtime-49815b7f9cdaa8ae.js","node_modules/@parcel/runtime-js/lib/runtime-ca2bd75671a067aa.js","node_modules/@parcel/runtime-js/lib/runtime-6c165a9e61a62697.js","node_modules/@parcel/runtime-js/lib/runtime-22f9a390a8f513f4.js","node_modules/@parcel/runtime-js/lib/runtime-4db7ac8ebd5b5243.js","node_modules/@parcel/runtime-js/lib/runtime-6e41db6d506ef712.js","node_modules/@parcel/runtime-js/lib/runtime-e74d506ae4f18daf.js","src/js/local-storage.js","node_modules/@parcel/runtime-js/lib/runtime-d41c8ff52f9985dc.js","node_modules/@parcel/runtime-js/lib/runtime-f98168d493b31c29.js","node_modules/@parcel/runtime-js/lib/runtime-89cb08ee4068ef9c.js","node_modules/@parcel/runtime-js/lib/runtime-1aba3e0ffa53a3ed.js","node_modules/@parcel/runtime-js/lib/runtime-ad6ebf3132328c18.js","node_modules/@parcel/runtime-js/lib/runtime-a7722fa1ef955f21.js","node_modules/@parcel/runtime-js/lib/runtime-146c7902af1bf287.js","src/js/shopping-cart.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l20mf\\\":\\\"shopping-list.f05d8632.js\\\",\\\"1OrD9\\\":\\\"books_322_@1.756abb35.webp\\\",\\\"aTZT5\\\":\\\"books_322_@2.061cea98.webp\\\",\\\"b2v3F\\\":\\\"books_322_@1.9d82d098.png\\\",\\\"kdX8F\\\":\\\"books_322_@2.80ece8cf.png\\\",\\\"anJen\\\":\\\"books_265_@1.88805d0a.webp\\\",\\\"8Wzly\\\":\\\"books_265_@2.2708f99b.webp\\\",\\\"dZopz\\\":\\\"books_265_@1.6c062fbc.png\\\",\\\"9LOqr\\\":\\\"books_265_@2.28750540.png\\\",\\\"82OGy\\\":\\\"amazon.b0a6f23c.png\\\",\\\"2dPzb\\\":\\\"amazon.3c3f1cde.webp\\\",\\\"cKFxX\\\":\\\"apple.34efda77.png\\\",\\\"glj45\\\":\\\"apple.78ef44cc.webp\\\",\\\"jA3cI\\\":\\\"bookshop.11f8a97b.png\\\",\\\"kLXsS\\\":\\\"bookshop.bf5b4137.webp\\\",\\\"ee16w\\\":\\\"sprite.417df275.svg\\\",\\\"bk09w\\\":\\\"index.4644c41d.js\\\"}\"));","import './aside-support-ukraine.js';\nimport './burger-menu.js';\nimport './header.js';\nimport './shopping-list-main.js';\n","import book322_1 from '../images/shopping/books_322_@1.webp';\nimport book322_2 from '../images/shopping/books_322_@2.webp';\nimport book322_11 from '../images/shopping/books_322_@1.png';\nimport book322_22 from '../images/shopping/books_322_@2.png';\nimport book265_1 from '../images/shopping/books_265_@1.webp';\nimport book265_2 from '../images/shopping/books_265_@2.webp';\nimport book265_11 from '../images/shopping/books_265_@1.png';\nimport book265_22 from '../images/shopping/books_265_@2.png';\n\nimport Storage from './local-storage';\nimport getShoppingCartMarkup from './shopping-cart';\n\nimport { SwaggerAPI } from './swagger-api.js';\n//643282b1e85766588626a080\n//643282b2e85766588626a0e2\n\nconst booksApi = new SwaggerAPI();\n\nconst listContainer = document.querySelector('.js-shopping-list');\n\nconst bookStorage = Storage.load('bookList');\n\nconst shopContainer = async () => {\n  booksApi.bookId = '643282b1e85766588626a080';\n  const { data } = await booksApi.fetchBookById();\n  Storage.addBookToStorage(data);\n\n  if (bookStorage.length > 0) {\n    listContainer.innerHTML = `\n        <ul class=\"shop-cart-list\">\n            ${getShoppingCartMarkup(bookStorage)}\n        </ul>\n        `;\n    const deleteCardItem = document.querySelectorAll('.shop-cart-btn');\n    deleteCardItem.forEach(btn => {\n      btn.addEventListener('click', e => {\n        if (\n          e.target.nodeName === 'BUTTON' ||\n          e.target.nodeName === 'svg' ||\n          e.target.nodeName === 'use'\n        ) {\n          const deleteBookIndex = bookStorage.indexOf(\n            bookStorage.find(\n              book => book.title === e.currentTarget.dataset.title\n            )\n          );\n          if (deleteBookIndex < 0) {\n            return;\n          }\n          bookStorage.splice(deleteBookIndex, 1);\n          Storage.save('bookList', bookStorage);\n          e.target.closest('li').remove();\n          listContainer.innerHTML = emptyShoppingMarkup();\n        }\n      });\n    });\n  } else {\n    listContainer.innerHTML = emptyShoppingMarkup();\n  }\n};\nshopContainer();\n\nfunction emptyShoppingMarkup() {\n  return `\n    <p class=\"shopping-list-text\">This page is empty, add some books and proceed to order.</p>\n        <picture>\n            <source media=\"(min-width: 768px)\" srcset=\"\n                            ${book322_1} 1x,\n                            ${book322_2} 2x\n                            \" type=\"image/webp\" />\n            <source media=\"(min-width: 768px)\" srcset=\"\n                            ${book322_11} 1x,\n                            ${book322_22} 2x\n                            \" type=\"image/png\" />\n\n            <source media=\"(max-width: 767px)\" srcset=\"\n                            ${book265_1} 1x,\n                            ${book265_2} 2x\n                            \" type=\"image/webp\" />\n            <source media=\"(max-width: 767px)\" srcset=\"\n                            ${book265_11} 1x,\n                            ${book265_22} 2x\n                            \" type=\"image/png\" />\n\n            <img class=\"shopping-list-image\" src=\"${book265_1}\" alt=\"Books\" loading=\"lazy\" />\n        </picture>\n    `;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"1OrD9\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"aTZT5\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"b2v3F\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"kdX8F\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"anJen\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"8Wzly\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"dZopz\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"9LOqr\");","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nconst bookStorage = load('bookList') || [];\nconst addBookToStorage = book => { // функція добавляє книжки в локал сторедж, потрібно лише передати обєкт який приходить з API\n  const { title, list_name, description, author, book_image } = book;\n  const bookInfo = {\n      title,\n      list_name,\n      description,\n      author,\n      book_image,\n      amazon: book.buy_links[0].url,\n      apple: book.buy_links[1].url,\n      bookShop: book.buy_links[4].url,\n  }\n  if (bookStorage.length !== 0) {\n    const bookInStorage = bookStorage.find(book => book.title === bookInfo.title);\n    if (!bookInStorage) {\n      bookStorage.push(bookInfo);\n      save('bookList', bookStorage);\n    }\n    return;\n  }\n  bookStorage.push(bookInfo);\n  save('bookList', bookStorage);\n}\n\nexport default {\n  save,\n  load,\n  remove,\n  addBookToStorage,\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"82OGy\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"2dPzb\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"cKFxX\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"glj45\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"jA3cI\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"kLXsS\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","import amazonImg from \"../images/shopping/amazon.png\";\nimport amazonWebp from \"../images/shopping/amazon.webp\"\nimport appleBook from \"../images/shopping/apple.png\";\nimport appleWebp from \"../images/shopping/apple.webp\"\nimport bookShopIcon from \"../images/shopping/bookshop.png\";\nimport bookShopWebp from \"../images/shopping/bookshop.webp\"\nimport sprite from \"../images/sprite.svg\"\n\nlet bodyWidth = 0;\nonload = event => {\n  bodyWidth = event.target.body.clientWidth;\n};\n\nexport default function (bookColection) {\n  const markup = bookColection\n    .map(book => {\n      let {\n        title,\n        list_name,\n        description,\n        author,\n        book_image,\n        amazon,\n        apple,\n        bookShop,\n      } = book;\n        description.length !== 0 \n            ? description\n            : description = \"We are pleased to inform you that all information about this book you can found on partner resources (such as Amazon, etc.)\"\n    if (bodyWidth <= 767) {\n        list_name = list_name.slice(0, 20) + \"...\"\n        description = description.slice(0, 85) + \"...\"\n    }\n    if (bodyWidth >= 768 && bodyWidth < 1440) {\n        description.length > 1 && description.length < 250\n            ? description\n            : description.slice(0, 250) + \"...\"\n    }\n      return `<li class=\"shop-cart-container\">\n            <div class=\"shop-cart-wrap\">\n                <div class=\"shop-image-wrapper\">\n                    <img class=\"shop-image\" src=\"${book_image}\" alt=\"${title}\">\n                </div>\n                <div class=\"shop-cart-info\">\n                    <h2 class=\"shop-cart-title\">${title}</h2>\n                    <h3 class=\"shop-cart-category\">${list_name}</h3>\n                    <p class=\"shop-cart-description\">${description}</p>\n                    <div class=\"shop-cart-bottom-wrap\">\n                        <h4 class=\"shop-cart-author\">${author}</h4>\n                        <ul class=\"shop-cart-media\">\n                            <li class=\"shop-cart-media-item\">\n                                <a href=\"${amazon}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <picture>\n                                        <source srcset=\"${amazonWebp}\" type=\"image/webp\" />\n                                        <source srcset=\"${amazonImg}\" type=\"image/png\" />\n                                        <img class=\"media-icon amazon-icon\" src=\"${amazonImg}\" alt=\"Amazon logo\" />\n                                    </picture>\n                                </a>    \n                            </li>\n                            <li class=\"shop-cart-media-item\">\n                                <a href=\"${apple}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <picture>\n                                        <source srcset=\"${appleWebp}\" type=\"image/webp\" />\n                                        <source srcset=\"${appleBook}\" type=\"image/png\" />\n                                        <img class=\"media-icon\" src=\"${appleBook}\" alt=\"Apple book logo\" />\n                                    </picture>\n                                </a>\n                            </li>\n                            <li class=\"shop-cart-media-item\">\n                                <a href=\"${bookShop}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <picture>\n                                        <source srcset=\"${bookShopWebp}\" type=\"image/webp\" /> \n                                        <source srcset=\"${bookShopIcon}\" type=\"image/png\" />\n                                        <img class=\"media-icon\" src=\"${bookShopIcon}\" alt=\"Book shop logo\" />\n                                    </picture>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                    <button class=\"shop-cart-btn\" type=\"button\" data-title=\"${title}\">\n                        <svg class=\"shop-cart-btn-trash\">\n                            <use href=\"${sprite}#trash\"></use>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n          </div>\n        </li>`;\n    })\n    .join('');\n  return markup;\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$3a758e679d6fdd4d$exports","getBundleURL","resolve","$205b5c0eca979735$exports","$da9433939a6718df$exports","$282480676afeb4fb$exports","$f0266e6bc4b2c7fc$exports","$5409d68664e42a5a$exports","$053e9c6bdb3367c8$exports","$6deb9f2545187b81$exports","$3791646d3ae2cee8$var$save","key","value","serializedState","stringify","localStorage","setItem","error","console","message","$3791646d3ae2cee8$var$load","getItem","undefined","$3791646d3ae2cee8$var$bookStorage","$3791646d3ae2cee8$export$2e2bcd8739ae039","save","load","remove","removeItem","log","addBookToStorage","book1","bookInfo","title","list_name","description","author","book_image","amazon","buy_links","url","apple","bookShop","length","push","find","book","$81cd4c5c295d826e$exports","$5396c7b922c6873b$exports","$25cbc281499cdd9f$exports","$80a23971b2ad27c9$exports","$1b2dfd443175612f$exports","$e0594659cd954b09$exports","$8020d75c2c6a8155$exports","$704d79c567937e1e$var$bodyWidth","onload","event","target","body","clientWidth","$967fb24e1061448e$var$booksApi","SwaggerAPI","$967fb24e1061448e$var$listContainer","document","querySelector","$967fb24e1061448e$var$bookStorage","$967fb24e1061448e$var$shopContainer","$parcel$interopDefault","$2TvXO","mark","_callee","data","bookId","fetchBookById","_ctx","sent","innerHTML","concat","map","slice","join","querySelectorAll","forEach","btn","addEventListener","e","nodeName","deleteBookIndex","indexOf","currentTarget","dataset","splice","closest","$967fb24e1061448e$var$emptyShoppingMarkup"],"version":3,"file":"shopping-list.f05d8632.js.map"}